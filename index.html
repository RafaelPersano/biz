<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Plano de Negócios IA Avançado</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^0.7.0",
    "react/": "https://esm.sh/react@^19.1.0/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <header role="banner">
        <div class="header-content">
            <div class="logo-title">
                <svg class="header-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2zm0 4h2v6h-2z"></path></svg>
                <h1>Plano de Negócios Pro AI</h1>
            </div>
            <p class="subtitle">Transforme sua visão em estratégia com inteligência artificial</p>
            <div id="auth-controls" class="auth-controls">
                <span id="welcome-message" class="welcome-message hidden" aria-live="polite"></span>
                <span id="user-credits-display" class="user-credits-display hidden" aria-live="polite">Seus Créditos: 0</span>
                <button id="buy-credits-button" class="auth-button hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon" style="width:18px; height:18px; margin-right: 5px;"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></svg>
                    Comprar Créditos
                </button>
                <button id="login-button" class="auth-button">Login</button>
                <button id="logout-button" class="auth-button hidden">Logout</button>
            </div>
        </div>
    </header>

    <main id="app" aria-live="polite">
        <div id="app-content-wrapper" class="hidden">
            <section id="input-section" aria-labelledby="input-heading">
                <h2 id="input-heading" class="section-main-title">Configuração Inicial do Projeto</h2>
                <form id="business-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="company-name">Nome da Empresa:</label>
                            <input type="text" id="company-name" name="company-name" required value="Minha Startup Inovadora">
                        </div>
                        <div class="form-group">
                            <label for="business-idea">Ideia/Nicho de Negócio:</label>
                            <input type="text" id="business-idea" name="business-idea" required value="Plataforma SaaS para gestão de pequenas hortas urbanas">
                        </div>
                         <div class="form-group">
                            <label for="num-packages">Nº de Produtos/Serviços (1-5):</label>
                            <input type="number" id="num-packages" name="num-packages" min="1" max="5" value="3" required>
                        </div>
                        <div class="form-group">
                            <label for="monthly-investment">Investimento Mensal (R$):</label>
                            <input type="number" id="monthly-investment" name="monthly-investment" min="0" step="any" required value="500">
                        </div>
                        <div class="form-group">
                            <label for="target-revenue">Receita Mensal Alvo (R$):</label>
                            <input type="number" id="target-revenue" name="target-revenue" min="0" step="any" required value="3000">
                        </div>
                        <div class="form-group">
                            <label for="detail-level">Nível de Detalhamento do Plano:</label>
                            <select id="detail-level" name="detail-level">
                                <option value="extendido" selected>Extendido (Completo)</option>
                                <option value="medio">Médio (Balanceado)</option>
                                <option value="resumido">Resumido (Conciso)</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="product-description">Breve Descrição dos Produtos/Serviços Iniciais:</label>
                            <textarea id="product-description" name="product-description" rows="4" required>Assinatura mensal com acesso a painel de controle, dicas personalizadas, e alertas de irrigação e pragas.</textarea>
                        </div>
                        <fieldset class="form-group full-width operational-level-fieldset">
                            <legend>Nível Operacional Principal:</legend>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="op-level-terc-completa" name="operational-level" value="terceirizacao_completa" checked>
                                    <label for="op-level-terc-completa">Terceirização Completa</label>
                                </div>
                                <div>
                                    <input type="radio" id="op-level-terc-parcial" name="operational-level" value="terceirizacao_parcial">
                                    <label for="op-level-terc-parcial">Terceirização Parcial</label>
                                </div>
                                <div>
                                    <input type="radio" id="op-level-prod-propria" name="operational-level" value="producao_propria">
                                    <label for="op-level-prod-propria">Produção Própria</label>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset class="form-group full-width own-premises-fieldset">
                            <legend>Sede Própria / Home Office:</legend>
                            <div class="radio-group">
                                <div>
                                    <input type="radio" id="own-premises-yes" name="own-premises" value="yes" checked>
                                    <label for="own-premises-yes">Sim, usarei um espaço próprio/minha casa (reduz custo inicial)</label>
                                </div>
                                <div>
                                    <input type="radio" id="own-premises-no" name="own-premises" value="no">
                                    <label for="own-premises-no">Não, precisarei de um espaço comercial/alugado</label>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <button type="submit" id="generate-plan-button" class="cta-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></svg>
                        Gerar Plano de Negócios Completo
                    </button>
                </form>
            </section>

            <div id="loading-indicator" class="hidden" aria-label="Gerando plano de negócios, por favor aguarde">
                <div class="spinner"></div>
                <p>Analisando e construindo seu plano estratégico...</p>
            </div>

            <section id="output-section" aria-labelledby="output-heading" class="hidden">
                <h2 id="output-heading" class="section-main-title">Seu Plano Estratégico Detalhado</h2>
                
                <div class="action-buttons-master-container">
                    <button id="print-pdf-button" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></svg>
                        Abrir para PDF/Imprimir
                    </button>
                    <button id="download-html-light-button" class="action-button">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></svg>
                        Baixar HTML (Tema Claro)
                    </button>
                    <button id="download-html-dark-button" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></svg>
                       Baixar HTML (Tema Escuro)
                   </button>
                     <button id="download-landing-page-html-button" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M5 20h14v-2H5v2zm0-10h4v6H5v-6zm5 0h4v6h-4v-6zm5 0h4v6h-4v-6zM4 6H2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6H4zm14-4H6C4.9 2 4 2.9 4 4v0h16V4c0-1.1-.9-2-2-2z"></path></svg>
                        Baixar HTML/CSS da Landing Page
                    </button>
                     <button id="download-instagram-content-button" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg>
                        Baixar Conteúdo do Instagram
                    </button>
                     <button id="open-assistant-button" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>
                        Consultar Assistente AI do Plano
                    </button>
                </div>
                <p class="print-info">**Dica para PDF:** O botão "Abrir para PDF/Imprimir" utiliza a função de impressão do seu navegador. Para salvar como PDF, escolha "Salvar como PDF" (ou "Save as PDF") como destino na caixa de diálogo de impressão. A landing page está inclusa.</p>
                <p class="print-info-detail">Os botões "Baixar HTML" farão o download direto de um arquivo HTML contendo todo o plano e a pré-visualização da landing page no tema escolhido, visualizável offline.</p>

                <div id="generation-stats" class="hidden">
                    <h4>Estatísticas da Geração:</h4>
                    <p>Tokens Totais Estimados: <span id="total-tokens-value">Calculando...</span></p>
                    <p>Custo Estimado da Geração (Simulação): <span id="generation-cost-value">N/A</span></p>
                    <small>Nota: A contagem de tokens é uma estimativa baseada no total de tokens de entrada e saída das chamadas à API. O custo é uma simulação para fins de teste deste micro-SaaS.</small>
                </div>


                <div class="plan-cards-grid">
                    <article id="business-overview" class="plan-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.18 1H13v-1zm0 3h6.92c-.03.34-.1.67-.18 1H13v-1zm0 3h6.27c-.2.35-.43.69-.68 1H13v-1z"></path></svg>
                            <h3>1. Visão Geral do Negócio</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="product-packages" class="plan-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.99l-9-9V4h7l9 9-7 7zM6.5 7.5c-.83 0-1.5-.67-1.5-1.5S5.67 4.5 6.5 4.5s1.5.67 1.5 1.5S7.33 7.5 6.5 7.5z"></path></svg>
                            <h3>2. Produtos ou Serviços</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="operational-strategy" class="plan-card">
                        <div class="card-header">
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 8.41L13.41 7 12 5.59 10.59 7 12 8.41zm6.29-1.42L12 13.27l-6.29-6.28A6.97 6.97 0 0 1 12 2a6.97 6.97 0 0 1 6.29 4.99zM4.99 17.71A6.97 6.97 0 0 1 2 12a6.97 6.97 0 0 1 4.99-6.29L13.27 12l-6.28 6.29A6.954 6.954 0 0 1 4.99 17.71zm14.02 0A6.954 6.954 0 0 1 17 19.01l-6.29-6.29 6.29-6.28A6.97 6.97 0 0 1 22 12a6.97 6.97 0 0 1-2.99 5.71zM12 15.59L10.59 17 12 18.41 13.41 17 12 15.59z"></path></svg>
                            <h3>3. Estratégia Operacional</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="prospecting-strategy" class="plan-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm0-7C8.12 7 7 8.12 7 9.5S8.12 12 9.5 12 12 10.88 12 9.5 10.88 7 9.5 7z"></path></svg>
                            <h3>4. Estratégia de Prospecção Inicial</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                     <article id="contract-templates" class="plan-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></svg>
                            <h3>5. Ideias para Modelos de Contrato</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="landing-page-preview" class="plan-card full-width-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M19 4H5C3.89 4 3 4.9 3 6v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V8h14v10zM5 6h14v1H5V6z"></path></svg>
                            <h3>6. Pré-visualização da Landing Page</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="offers-generation" class="plan-card">
                        <div class="card-header">
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.86-7.33l-3.39-3.39c-.35-.35-.82-.59-1.4-.59H9.5c-.83 0-1.5.67-1.5 1.5v1.5H6v2h2v1.5c0 .83.67 1.5 1.5 1.5h2.57c.58 0 1.05-.23 1.4-.59l3.39-3.39c.39-.39.39-1.02 0-1.42zM11 15H9.5v-1.5h2.07L11 14.07V15zm2.5-2H13v-.57l.5-.5H15v1.5h-1.5z"></path></svg>
                            <h3>7. Geração de Ofertas Iniciais</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="organic-growth-strategy" class="plan-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-4-4 1.41-1.41L10 12.17l6.59-6.59L18 7l-8 8z"></path></svg>
                            <h3>8. Estratégia de Crescimento Orgânico</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                     <article id="customer-funnel" class="plan-card full-width-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg>
                            <h3>9. Funil de Aquisição e Atendimento ao Cliente</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="monthly-growth-projection" class="plan-card">
                        <div class="card-header">
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"></path></svg>
                            <h3>10. Projeção de Crescimento Mensal</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                     <article id="financial-projection-visualization" class="plan-card full-width-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M4 9h4v11H4zm0-5h4v4H4zm6 3h4v8h-4zm0-3h4v2h-4zm6 3h4v5h-4zm0-3h4v2h-4z"></path></svg>
                            <h3>11. Visualização da Projeção Financeira (12 Meses)</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="customer-service-flow" class="plan-card full-width-card">
                        <div class="card-header">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M21 11.01L3 11v2h18zM3 16h12v2H3zM21 6H3v2.01L21 8z"></path></svg>
                            <h3>12. Fluxograma de Atendimento ao Cliente</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="customer-service-organization" class="plan-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></svg>
                            <h3>13. Organização do Atendimento ao Cliente</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="action-plan-30days" class="plan-card full-width-card">
                        <div class="card-header">
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7v-5z"></path></svg>
                            <h3>14. Plano de Ação - 30 Dias</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                     <article id="instagram-strategy" class="plan-card full-width-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg>
                            <h3>15. Estratégia de Conteúdo para Instagram (Reels)</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="financial-analysis" class="plan-card full-width-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon">
                                <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 3h2.67l.94 2H20c.55 0 1 .45 1 1s-.45 1-1 1H6.21l1.45 3H16c.55 0 1 .45 1 1s-.45 1-1 1H8.69l-.95-2H4.21L3 4H1V3zm5.72 10.42l.27-.42.92 1.83h5.36l.92-1.83.27.42c.11.18.29.29.5.29H18c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5h-2.28l-2.09-4.17c-.11-.23-.33-.38-.58-.38H8.94c-.25 0-.47.15-.58.38L6.28 9.71H4c-.83 0-1.5.67-1.5 1.5S3.17 12.71 4 12.71h2.21c.21 0 .39-.11.5-.29zM12 13.71c-1.13 0-2.16.39-3 .99V18h6v-3.29c-.84-.6-1.87-.99-3-.99z"/>
                            </svg>
                            <h3>16. Análise Financeira Adicional (ROI e EBITDA Estimados)</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                    <article id="competitor-analysis" class="plan-card full-width-card">
                        <div class="card-header">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon">
                                <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path>
                            </svg>
                            <h3>17. Análise de Concorrência</h3>
                        </div>
                        <div class="content"><p class="content-placeholder">Gerando...</p></div>
                    </article>
                </div>
            </section>

            <section id="additional-ai-resources" class="hidden">
                <h2 class="section-main-title">Recursos Adicionais de IA</h2>
                <div class="ai-resource-card">
                    <div class="card-header">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 2a10 10 0 00-9.94 10.58l3.4 3.4L12 22l6.54-6.02 3.4-3.4A10 10 0 0012 2zm0 18.5L7.5 16H6v-2h1.5l-2-2H4v-1.5h1.08L3.5 9h1.5l2 2H8V9.5h1.5l2 2H13V10h1.5l2-2H18v1.5l-1.58 1.5H18v2h-1.5l2 2H20v1.5l-2.08-1.58L16.5 16h-1.5l-2-2H11.5v1.5l-2 2zM12 6a3 3 0 110 6 3 3 0 010-6z"></path></svg>
                        <h3>Script para Bot de Atendimento Inicial (Instagram/WhatsApp)</h3>
                    </div>
                    <p>Gere um script inicial, persona e FAQs para um bot que pode interagir com seus potenciais clientes em plataformas de mensagens.</p>
                    <button id="generate-client-bot-script-button" class="action-button secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>
                        Gerar Script do Bot de Prospecção
                    </button>
                    <div id="client-bot-script-output" class="content hidden">
                        <h4>Script Gerado:</h4>
                        <pre><code id="client-bot-script-code"></code></pre>
                    </div>
                    <div id="client-bot-loading-indicator" class="hidden">
                      <div class="spinner-small"></div>
                      <p>Gerando script do bot de prospecção...</p>
                    </div>
                </div>

                <div class="ai-resource-card">
                    <div class="card-header">
                        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><g><rect fill="none" height="24" width="24"/></g><g><path d="M21.99,4c0-1.1-0.89-2-1.99-2H4C2.9,2,2,2.9,2,4v12c0,1.1,0.9,2,2,2h14l4,4L21.99,4z M17,11c-0.55,0-1-0.45-1-1V8 c0-0.55,0.45-1,1-1s1,0.45,1,1v2C18,10.55,17.55,11,17,11z M17,15L17,15c-0.55,0-1-0.45-1-1v-0.08c-1.42-0.45-2.5-1.39-2.92-2.58 C12.95,11.26,12.74,11.2,12.5,11.2s-0.45,0.06-0.58,0.14C11.5,12.53,10.42,13.47,9,13.92V14c0,0.55-0.45,1-1,1h0c-0.55,0-1-0.45-1-1 v-0.68c-0.78-0.23-1.47-0.67-2-1.25V14c0,0.55-0.45,1-1,1s-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v0.53 c0.45,0.43,0.97,0.78,1.53,1.02C8.61,12.01,9.08,11.2,10.02,11.2c0.73,0,1.36,0.28,1.85,0.75C12.33,12.43,12.96,12.71,13.7,12.71 c0.94,0,1.31-0.79,1.78-1.27C16.03,10.95,16,10.27,16,10V8c0-1.65-1.35-3-3-3S10,6.35,10,8v2c0,0.55-0.45,1-1,1s-1-0.45-1-1V8 c0-2.76,2.24-5,5-5s5,2.24,5,5v2C18,10.55,17.55,11,17,11c-0.55,0-1-0.45-1-1V8c0-0.55-0.45-1-1-1s-1,0.45-1,1v2c0,0.55,0.45,1,1,1 s1-0.45,1-1v-0.08c1.42-0.45,2.5-1.39,2.92-2.58C19.05,7.26,19.26,7.2,19.5,7.2s0.45,0.06,0.58,0.14 c0.42,1.19,1.5,2.13,2.92,2.58V10c0,0.55,0.45,1,1,1s1-0.45,1-1V8c0-0.55-0.45-1-1-1s-1,0.45-1,1V11z M7,9C6.45,9,6,8.55,6,8V6 c0-0.55,0.45-1,1-1s1,0.45,1,1v2C8,8.55,7.55,9,7,9z"/></g></svg>
                        <h3>Simulador de Chat com Cliente (Prospecção)</h3>
                    </div>
                    <p>Interaja com um AI configurado para responder como um atendente virtual da sua empresa, focando em converter um novo lead.</p>
                    <button id="open-customer-chat-button" class="action-button secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></svg>
                        Simular Chat com Novo Cliente
                    </button>
                </div>

                <div class="ai-resource-card">
                    <div class="card-header">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="card-icon"><path d="M12 2a5.5 5.5 0 0 1 5.5 5.5c0 1.99-1.07 3.73-2.67 4.69L17.5 17h-1.85l-1.08-3.23c-.19-.01-.38-.03-.57-.03s-.38.02-.57.03L11.35 17H9.5l2.67-4.81C10.57 11.23 9.5 9.49 9.5 7.5A5.5 5.5 0 0 1 12 2zm0 2a3.5 3.5 0 0 0-3.5 3.5A3.5 3.5 0 0 0 12 11a3.5 3.5 0 0 0 3.5-3.5A3.5 3.5 0 0 0 12 4zM4 18v2h16v-2c0-1.12-.49-2.13-1.26-2.81l-1.6-1.44c-.29-.26-.71-.32-1.07-.15L15 14.17V13.5A6.5 6.5 0 0 0 8.5 13.5v.67L7.43 13.6c-.36-.17-.78-.11-1.07.15l-1.6 1.44C4.49 15.87 4 16.88 4 18z"></path></svg>
                        <h3>Bot de Atendimento Pós-Venda</h3>
                    </div>
                    <p>Simule um atendimento para clientes que já compraram, para consultas de status de pedido, devoluções ou créditos.</p>
                    <button id="open-post-purchase-bot-button" class="action-button secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="button-icon"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM17.17 14.83L12 10 6.83 15.17l-1.41-1.41L12 7.17l6.59 6.59-1.42 1.07z"></path></svg>
                        Simular Chat Pós-Venda
                    </button>
                </div>
            </section>
        </div> <!-- End of #app-content-wrapper -->
    </main>
    
    <!-- Auth Modal (Login/Register) -->
    <div id="auth-modal" class="modal hidden" role="dialog" aria-labelledby="auth-modal-title" aria-modal="true">
        <div class="modal-content auth-modal-content">
            <div class="modal-header">
                <h3 id="auth-modal-title">Acessar Plataforma</h3>
                <button id="close-auth-modal-button" class="close-button" aria-label="Fechar modal de autenticação">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
            </div>
            
            <!-- Login Form View -->
            <div id="login-view">
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email:</label>
                        <input type="email" id="login-email" name="login-email" required placeholder="seu@email.com">
                    </div>
                    <div class="form-group">
                        <label for="login-password">Senha:</label>
                        <input type="password" id="login-password" name="login-password" required placeholder="Sua senha">
                    </div>
                    <p id="login-error-message" class="error-message hidden" style="text-align:center; font-size:0.9em;" aria-live="assertive"></p>
                    <button type="submit" id="login-submit-button" class="cta-button auth-submit-button">Entrar</button>
                </form>
                <p class="auth-note">
                    Não tem uma conta? <button type="button" id="show-register-view-button" class="link-button">Cadastre-se</button>
                </p>
                <p class="auth-note">Nota: Esta é uma simulação. Use qualquer email/senha não vazios para prosseguir.</p>
            </div>

            <!-- Register Form View (Initially Hidden) -->
            <div id="register-view" class="hidden">
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-name">Nome Completo:</label>
                        <input type="text" id="register-name" name="register-name" required placeholder="Seu nome completo">
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email:</label>
                        <input type="email" id="register-email" name="register-email" required placeholder="seu@email.com">
                    </div>
                    <div class="form-group">
                        <label for="register-password">Senha:</label>
                        <input type="password" id="register-password" name="register-password" required placeholder="Crie uma senha forte">
                    </div>
                    <div class="form-group">
                        <label for="register-confirm-password">Confirmar Senha:</label>
                        <input type="password" id="register-confirm-password" name="register-confirm-password" required placeholder="Confirme sua senha">
                    </div>
                    <p id="register-error-message" class="error-message hidden" style="text-align:center; font-size:0.9em;" aria-live="assertive"></p>
                    <p id="auth-success-message" class="success-message hidden" style="text-align:center; font-size:0.9em;" aria-live="polite"></p>
                    <button type="submit" id="register-submit-button" class="cta-button auth-submit-button">Cadastrar</button>
                </form>
                <p class="auth-note">
                    Já tem uma conta? <button type="button" id="show-login-view-button" class="link-button">Acesse</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Buy Credits Modal -->
    <div id="buy-credits-modal" class="modal hidden" role="dialog" aria-labelledby="buy-credits-modal-title" aria-modal="true">
        <div class="modal-content buy-credits-modal-content">
            <div class="modal-header">
                <h3 id="buy-credits-modal-title">Comprar Créditos</h3>
                <button id="close-buy-credits-modal-button" class="close-button" aria-label="Fechar modal de compra de créditos">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
            </div>
            
            <div id="credits-package-selection">
                <h4>Escolha um Pacote de Créditos</h4>
                <div class="credit-packages-container">
                    <div class="credit-package-card" data-credits="50" data-price="25.00">
                        <h5>Pacote Básico</h5>
                        <p class="credits-amount">50 Créditos</p>
                        <p class="credits-price">R$ 25,00</p>
                    </div>
                    <div class="credit-package-card" data-credits="120" data-price="50.00">
                         <h5>Pacote Padrão <span class="discount-badge">POPULAR</span></h5>
                        <p class="credits-amount">120 Créditos</p>
                        <p class="credits-price">R$ 50,00</p>
                    </div>
                    <div class="credit-package-card" data-credits="300" data-price="100.00">
                        <h5>Pacote Pro</h5>
                        <p class="credits-amount">300 Créditos</p>
                        <p class="credits-price">R$ 100,00</p>
                    </div>
                </div>
            </div>

            <div id="payment-form-section" class="hidden">
                <button id="back-to-packages-button" class="link-button" style="margin-bottom: 1rem;">&larr; Voltar para pacotes</button>
                <h4>Detalhes do Pagamento (Simulação)</h4>
                <p id="selected-package-info" style="text-align:center; margin-bottom:1rem; color: var(--text-secondary);"></p>
                <form id="payment-form" novalidate>
                    <div class="form-group">
                        <label for="card-name">Nome no Cartão:</label>
                        <input type="text" id="card-name" name="card-name" required placeholder="Nome como aparece no cartão">
                    </div>
                    <div class="form-group">
                        <label for="card-number">Número do Cartão:</label>
                        <input type="text" id="card-number" name="card-number" required placeholder="0000 0000 0000 0000" maxlength="19">
                    </div>
                    <div class="form-grid-payment">
                        <div class="form-group">
                            <label for="card-expiry">Validade (MM/AA):</label>
                            <input type="text" id="card-expiry" name="card-expiry" required placeholder="MM/AA" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="card-cvv">CVV:</label>
                            <input type="text" id="card-cvv" name="card-cvv" required placeholder="123" maxlength="4">
                        </div>
                    </div>
                    <p id="payment-error-message" class="error-message hidden"></p>
                    <button type="submit" class="cta-button auth-submit-button">Finalizar Compra</button>
                </form>
            </div>

            <div id="purchase-success-message" class="success-message hidden" style="text-align: center;"></div>
        </div>
    </div>


    <!-- AI Assistant Modal -->
    <div id="assistant-modal" class="modal hidden" role="dialog" aria-labelledby="assistant-modal-title" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="assistant-modal-title">Assistente AI do Plano de Negócios</h3>
                <button id="close-assistant-modal-button" class="close-button" aria-label="Fechar assistente">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
            </div>
            <div id="assistant-chat-history" class="chat-history"></div>
            <div id="assistant-loading-indicator" class="chat-loading hidden">
                <div class="spinner-small"></div>
                <span>Assistente está pensando...</span>
            </div>
            <div class="chat-input-area">
                <textarea id="assistant-user-input" placeholder="Pergunte sobre seu plano..." rows="1"></textarea>
                <button id="send-assistant-message-button" aria-label="Enviar mensagem">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Customer Chat Modal -->
    <div id="customer-chat-modal" class="modal hidden" role="dialog" aria-labelledby="customer-chat-modal-title" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="customer-chat-modal-title">Simulador de Chat com Cliente</h3>
                 <button id="close-customer-chat-modal-button" class="close-button" aria-label="Fechar simulador de chat">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
            </div>
            <div id="customer-chat-history" class="chat-history"></div>
            <div id="customer-chat-loading-indicator" class="chat-loading hidden">
                <div class="spinner-small"></div>
                <span>Atendente virtual está digitando...</span>
            </div>
            <div class="chat-input-area">
                <textarea id="customer-chat-user-input" placeholder="Digite a mensagem do cliente..." rows="1"></textarea>
                <button id="send-customer-chat-message-button" aria-label="Enviar mensagem">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Post-Purchase Bot Modal -->
    <div id="post-purchase-bot-modal" class="modal hidden" role="dialog" aria-labelledby="post-purchase-bot-title" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="post-purchase-bot-title">Simulador de Bot Pós-Venda</h3>
                <button id="close-post-purchase-bot-button" class="close-button" aria-label="Fechar simulador de bot pós-venda">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
            </div>
            <div id="post-purchase-bot-chat-history" class="chat-history"></div>
            <div id="post-purchase-bot-loading-indicator" class="chat-loading hidden">
                 <div class="spinner-small"></div>
                <span>Atendente virtual está digitando...</span>
            </div>
            <div class="chat-input-area">
                <textarea id="post-purchase-bot-user-input" placeholder="Digite a mensagem do cliente..." rows="1"></textarea>
                <button id="send-post-purchase-bot-message-button" aria-label="Enviar mensagem">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
                </button>
            </div>
        </div>
    </div>
    
    <footer role="contentinfo">
        <p>&copy; 2024 Plano de Negócios Pro AI. Todos os direitos reservados.</p>
        <p class="attribution">Gerador de planos de negócio com tecnologia Google Gemini.</p>
    </footer>

    <script type="module" src="index.tsx"></script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
